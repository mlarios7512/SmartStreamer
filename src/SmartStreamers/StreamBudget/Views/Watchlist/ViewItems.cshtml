@model StreamBudget.ViewModels.WatchlistVM

<table class="table table-dark table-hover">
    <thead>
        <tr>
            <th>Title</th>
            <th>Hours to watch</th>
            <th></th> <!--Intentionally blank (meant for "X" when removing a watchlist item)-->
        </tr>
    </thead>
    <tbody>
        @{
            int i = 0;
            foreach(var item in Model.SearchResults)
            {
                <tr class="table-active" id="watchlist-entry-@item.ImdbId">
                    <td>@item.Title (@item.FirstAirYear)</td>

                    @if(Model.CompletionTimes.ElementAtOrDefault(i).FullSeries != null)
                    {
                        <td>@Model.CompletionTimes.ElementAtOrDefault(i).FullSeries</td>
                        <td class="hidden"><input type="hidden" name="FullSeriesHoursWatchtime" value="@Model.CompletionTimes.ElementAtOrDefault(i).FullSeries"></td>
                    }
                    else
                    {
                        <td>(N/A)</td>
                        <td class="hidden"><input type="hidden" name="FullSeriesHoursWatchtime" value="0"></td>
                    }

                    <td><span type="button" class="hoverable-indication remove-watchlist-series-btn" id="remove-watchlist-item-@item.ImdbId">X</span></td>
                </tr>
                i++;
            }
        }
    </tbody>
</table>

@section Scripts{
    <script type="text/javascript" src="~/js/serieswatchlist.js"></script>
}